<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel ADM</title>

<style>
body{background:#0b0b0b;color:#fff;font-family:Arial;padding:20px;}
button{width:100%;padding:12px;margin-top:10px;background:#00c853;border:none;border-radius:8px;color:#fff;}
.card{background:#1f1f1f;padding:10px;margin-top:10px;border-radius:8px;}
</style>

</head>
<body>

<h2>Painel Administrativo</h2>

<input type="date" id="data">
<button onclick="ver()">Ver Clientes</button>
<button onclick="bloquear()">Bloquear Dia</button>

<div id="lista"></div>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
const firebaseConfig = {
// MESMO FIREBASE
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function ver(){
const d=data.value;
lista.innerHTML="";

db.ref("agendamentos/"+d).once("value",snap=>{
const dados=snap.val();
if(!dados){lista.innerHTML="Sem clientes";return;}

Object.keys(dados).forEach(h=>{
let c=dados[h];
lista.innerHTML+=`<div class='card'>${h} - ${c.nome} - ${c.telefone}</div>`;
});
});
}

function bloquear(){
const d=data.value;
for(let h=9;h<19;h++){
for(let m=0;m<60;m+=10){
let hora=String(h).padStart(2,'0')+":"+String(m).padStart(2,'0');
db.ref("agendamentos/"+d+"/"+hora).set({nome:"BLOQUEADO"});
}
}
alert("Dia bloqueado");
}
</script>

</body>
</html>
